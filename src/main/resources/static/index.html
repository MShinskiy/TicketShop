<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <!--
      Эта строчка необходима в родительской странице, куда вставляется <iframe>,
      поскольку позволяет корректно отображать страницу на мобильных устройствах
      как на мобильных устройствах, а не десктопе.

      Параметр user-scalable=no отвечает за возможность пользователям увеличивать страницу двумя пальцами.
      Его оставляем по желанию, но я бы его не удалял.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <title>УспехоГрад</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/houses.css">
    <link rel="stylesheet" href="css/popup.css">

    <!-- Шрифт подкачивается с Google Fonts -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
</head>

<body>
    <!-- Верхняя панель с информацией о пользователе -->
    <div id="HUD">
        <div class="userinfo">
            <!-- Временное расположение ресурсов -->
            <div class="resources">
                <div class="resources-group clickable" data-tooltip="money">
                    <img src="img/coin.svg">
                    <p>
                        <span id="money-count"></span> / <span id="money-total"></span>
                        <img class="btn-tooltip" src="img/info.svg">
                    </p>
                </div>
                <div class="resources-group clickable" data-tooltip="tasks">
                    <img src="img/flag.png">
                    <p>
                        <span id="tasks-count">5</span> / <span id="tasks-total"></span>
                        <img class="btn-tooltip" src="img/info.svg">
                    </p>
                </div>
            </div>

            <!-- Никнейм и меню бургер. Никнейм временно отключен -->
            <p id="username" class="display-none"></p>
            <a class="clickable" href="https://dte.pmruservice.com/dte-main/game_rules">
                <img class="menu-burger" src="img/menu.svg"></img>
            </a>
        </div>

        <!-- Появляющаяся подсказка по ресурсам -->
        <div id="tooltip"></div>
    </div>    

    <!-- Всплывающее окно с информацией о здании -->
    <div id="popup-container">
        <!-- Кнопка назад -->
        <button id="popup-close-btn">
            <img src="img/back.svg">
            НАЗАД
        </button>

        <!-- Персональная картинка каждого дома -->
        <img id="popup-house-img">

        <!-- Персональное содержимое каждого дома. Наполняется динамически -->
        <div class="popup-content">
            <!-- Название и персональная иконка дома. Иконка временно отключена -->
            <div class="popup-header">
                <img class="display-none" id="popup-house-icon" src="img/poker-chip.png">
                <h1 id="popup-house-name"></h1>
            </div>

            <p id="popup-house-task-description"></p>
            <p id="popup-house-description"></p>

            <!-- Задачи, кнопки, сноски -->
            <div id="popup-body"></div>
        </div>
    </div>

    <!-- Карта с домами. Наполняется динамически -->
    <div id="playground">
        <img id="map">
    </div>

    <div class="bg-blur-overlay"></div>
    
    <!-- Подгрузка картинок домов -->
    <div class="display-none">
        <img src="img/houses/1.jpg">
        <img src="img/houses/2.jpg">
        <img src="img/houses/3.jpg">
        <img src="img/houses/4.jpg">
        <img src="img/houses/5.jpg">
        <img src="img/houses/6.jpg">
        <img src="img/houses/7.jpg">
        <img src="img/houses/8.jpg">
        <img src="img/houses/9.jpg">
    </div>

    <script id="jsonData" type="application/json">
      {
        "user": {
          "dtprf": "DTPRF000000000",
          "username": "player1",
          "coins": 3000,
          "maxCoins": 6500,
          "group": "PARTNER",
          "level": "HIGH",
          "points": 2000,
          "tasksCount": 6,
          "tasksTotal": 14
        },
        "map": {
          "1": {
            "name": "Салон Апгрейд",
            "description": "Описание дома",
            "tasksComplete": 0,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "AVAILABLE",
            "taskDescriptionStringMap": "Карта описания с b тэгом <b>1000</b>.",
            "caption": "* Сноска.<br>** Сноска побольше.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": false
              },
              {
                "description": "Описание задания 2",
                "isComplete": false
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              },
              {
                "text": "Текст кнопки 3",
                "url": "URL кнопки 3"
              }
            ]
          },
          "2": {
            "name": "Университет",
            "description": "Описание дома",
            "tasksComplete": 2,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "COMPLETE",
            "taskDescriptionStringMap": "Карта описания с span тэгом <span>2000</span>.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": true
              },
              {
                "description": "Описание задания 2",
                "isComplete": true
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              },
              {
                "text": "Текст кнопки 3",
                "url": "URL кнопки 3"
              }
            ]
          },
          "3": {
            "name": "Дом чеков",
            "description": "Описание дома",
            "tasksComplete": 0,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "AVAILABLE",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": false
              },
              {
                "description": "Описание задания 2",
                "isComplete": false
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              },
              {
                "text": "Текст кнопки 3",
                "url": "URL кнопки 3"
              }
            ]
          },
          "4": {
            "name": "Q Клуб",
            "description": "Описание дома",
            "tasksComplete": 0,
            "tasksTotal": 0,
            "maxCoins": 0,
            "taskStatus": "EMPTY",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              },
              {
                "text": "Текст кнопки 3",
                "url": "URL кнопки 3"
              }
            ]
          },
          "5": {
            "name": "Фабрика фишек",
            "description": "Описание дома",
            "tasksComplete": 1,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "AVAILABLE",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": true
              },
              {
                "description": "Описание задания 2",
                "isComplete": false
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              }
            ]
          },
          "6": {
            "name": "Фото студия",
            "description": "Описание дома",
            "tasksComplete": 0,
            "tasksTotal": 0,
            "maxCoins": 0,
            "taskStatus": "EMPTY",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              }
            ]
          },
          "7": {
            "name": "Магазин Аксессуаров",
            "description": "Описание дома",
            "tasksComplete": 2,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "COMPLETE",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": true
              },
              {
                "description": "Описание задания 2",
                "isComplete": true
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              }
            ]
          },
          "8": {
            "name": "Прокат инвентаря",
            "description": "Описание дома",
            "tasksComplete": 0,
            "tasksTotal": 2,
            "maxCoins": 1000,
            "taskStatus": "AVAILABLE",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": false
              },
              {
                "description": "Описание задания 2",
                "isComplete": false
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              }
            ]
          },
          "9": {
            "name": "Игровой клуб",
            "description": "Описание дома",
            "tasksComplete": 1,
            "tasksTotal": 1,
            "maxCoins": 500,
            "taskStatus": "COMPLETE",
            "taskDescriptionStringMap": "Карта описания.",
            "caption": "Сноска.",
            "tasks": [
              {
                "description": "Описание задания 1",
                "isComplete": true
              }
            ],
            "buttons": [
              {
                "text": "Текст кнопки 1",
                "url": "URL кнопки 1"
              },
              {
                "text": "Текст кнопки 2",
                "url": "URL кнопки 2"
              }
            ]
          }
        }
      }
    </script>
    
    <script src="script.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Панель редактирования</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="d-flex justify-content-center" style="margin: 10px 0 10px 0">
    <form method="get">
        <button class="btn btn-info" th:formaction="@{/administration/panel}">К панели администрирования</button>
        <button class="btn btn-secondary" th:method="post" th:formaction="@{/logout}">Выход</button>
    </form>

</div>
<div class="container">
    <div class="row justify-content-md-center">
        <div class="col col-lg-1 w-50">
            <div class="card text-center">
                <h5 class="card-title">Параметры</h5>
                <div class="input-group mb-3 justify-content-center">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="select-map">Выберите карту:</label>
                    </div>
                    <select class="custom-select" id="select-map">
                        <option th:each="group : ${T(com.lavkatech.townofgames.entity.enums.Group).values()}"
                                th:text="${group}"
                                th:value="${group}"
                        ></option>
                    </select>
                </div>
                <div class="input-group mb-3 justify-content-center">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="select-level">Выберите уровень:</label>
                    </div>
                    <select class="custom-select" id="select-level">
                        <option th:each="level : ${T(com.lavkatech.townofgames.entity.enums.LevelSA).values()}"
                                th:text="${level}"
                                th:value="${level}"
                        ></option>
                    </select>
                </div>
                <div class="input-group mb-3 justify-content-center">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="select-house">Выберите дом:</label>
                    </div>
                    <select class="custom-select" id="select-house">
                        <option disabled selected value="default"> -- выберите опцию -- </option>
                        <option th:each="house : ${houses}"
                                th:text="${house.getName()}"
                                th:value="${house.getId()}"
                                th:attr="data-group=${house.getHouseGroup()}, data-level=${house.getHouseLevel()}"
                        ></option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <form id="edit-form">
            <table class="table table-bordered"
                   style="display:none;"
                   th:each="house : ${houses}"
                   th:attr="table-for=${house.getId()}, house-map-id=${house.getMapId()}">
                <tr>
                    <th scope="col">Параметр</th>
                    <th scope="col">Значение</th>
                    <th scope="col">URL</th>
                </tr>
                <tr>
                    <th scope="row">Название</th>
                    <td><input type="text" name="name" th:value="${house.getName()}"></td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="row">Прогресс пользователя</th>
                    <td><input type="text" name="progress-desc" th:value="${house.getTaskProgressDescription()}"></td>
                    <td></td>
                </tr>
                <tr>
                    <th  scope="row">Описание</th>
                    <td><input type="text" name="description" th:value="${house.getDescription()}"></td>
                    <td></td>
                </tr>
                <tr>
                    <th  scope="row">Задача 1 (белое поле)</th>
                    <td><input type="text" name="task1" th:value="${house.getTask1()} != null? ${house.getTask1().getDescription()} : ''"></td>
                    <td></td>
                </tr>
                <tr>
                    <th  scope="row">Задача 2 (белое поле)</th>
                    <td><input type="text" name="task2" th:value="${house.getTask2()} != null? ${house.getTask2().getDescription()} : ''"></td>
                    <td></td>
                </tr>
                <tr>
                    <th  scope="row">Кнопка 1</th>
                    <td><input type="text" name="btn-text1" th:value="${house.getButtonText1()}"></td>
                    <td><input type="text" name="btn-url1" th:value="${house.getButtonURL1()}"></td>
                </tr>
                <tr>
                    <th  scope="row">Кнопка 2</th>
                    <td><input type="text" name="btn-text2" th:value="${house.getButtonText2()}"></td>
                    <td><input type="text" name="btn-url2" th:value="${house.getButtonURL2()}"></td>
                </tr>
                <tr>
                    <th  scope="row">Кнопка 3</th>
                    <td><input type="text" name="btn-text3" th:value="${house.getButtonText3()}"></td>
                    <td><input type="text" name="btn-url3" th:value="${house.getButtonURL3()}"></td>
                </tr>
                <tr>
                    <th  scope="row">Поле под сноску</th>
                    <td><input type="text" name="caption" th:value="${house.getCaption()}"></td>
                    <td></td>
                </tr>
            </table>
            <input id="submit-form" type="submit" value="Принять изменения" class="btn btn-primary">
            <input id="submit-demo-form" type="submit" value="Посмотреть Демо" class="btn btn-primary">
        </form>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script th:src="@{/js/editPaneScript.js}"></script>
</body>
</html>